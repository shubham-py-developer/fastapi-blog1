<nav class="navbar navbar-expand-lg bg-body-tertiary shadow-sm">
  <div class="container-fluid">


<!-- Logo -->
<img src="{{ url_for('static', path='images/fast.png') }}" 
     alt="FastAPI" 
     width="35" height="35" 
     class="mx-3">

<a class="navbar-brand fw-bold text-success" href="/">FastAPI Blog</a>

<!-- Mobile toggle -->
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
        data-bs-target="#navbarSupportedContent">
  <span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="navbarSupportedContent">

  <!-- LEFT MENU -->
  <ul class="navbar-nav me-auto mb-2 mb-lg-0">

    <li class="nav-item">
      <a class="nav-link active fw-semibold" href="/">ğŸ  Home</a>
    </li>

    <li class="nav-item">
      <a class="nav-link" href="/">ğŸ“ Blog</a>
    </li>

    <!-- ===== LOGIN / USER BASED UI ===== -->
    {% if request.session.get("user") %}
    
        <!-- Logged user -->
        <li class="nav-item">
          <span class="nav-link text-success fw-semibold">
            ğŸ‘¤ {{ request.session.get("user") }}
          </span>
        </li>

        <!-- ADMIN ONLY CONTROLS -->
        {% if request.session.get("user") == "user1@example.com" %}
        <li class="nav-item">
          <a class="nav-link text-primary fw-semibold" href="/user/blogs">
            âš™ï¸ Manage Blogs
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link text-success fw-semibold" href="/user/blogs/create">
            â• Create Blog
          </a>
        </li>
        {% endif %}

        <!-- LOGOUT -->
        <li class="nav-item">
          <a class="nav-link text-danger fw-semibold" href="/auth/logout">
            ğŸšª Logout
          </a>
        </li>

    {% else %}

        <!-- NOT LOGGED -->
        <li class="nav-item">
          <a class="nav-link" href="/auth/login">ğŸ” Login</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/auth/register">ğŸ§‘ Register</a>
        </li>

    {% endif %}

    <!-- DROPDOWN -->
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
        âš™ï¸ More
      </a>
      <ul class="dropdown-menu shadow">
        <li><a class="dropdown-item" href="/about">About</a></li>
        <li><a class="dropdown-item" href="/contact">Contact</a></li>
      </ul>
    </li>

  </ul>

  <!-- SEARCH BOX -->
  <form class="d-flex" role="search" method="get" action="/search">
    <input class="form-control me-2 rounded-pill" 
           type="search" 
           name="q"
           placeholder="Search posts..." 
           required>

    <button class="btn btn-success rounded-pill px-4" type="submit">
      ğŸ” Search
    </button>
  </form>

</div>


  </div>
</nav>
